{% extends 'base.html' %}
{% block content %}
{% load static %}
<style>
    body {
      background-image: url('{% static "staff/24.jpg"%}');
      background-repeat: repeat;
      background-attachment: auto;
      background-size: 100%;
    }
</style>

<!DOCTYPE html>
<html>
<head>
    <title>Call MySQL Procedure</title>
</head>
<body>
    <form method="post" action="{% url 'call_mysql_procedure' %}">
        {% csrf_token %}
        <!-- Add input fields for parameters -->
        <label for="param1">Join_from_date:</label>
        <input type="text" name="join_from_date" >
        <br>
        <br>
        <label for="param2">Join_to_date:</label>
        <input type="text" name="join_to_date" >
        <br>
        <br>
        <label for="param3">Age_condition:</label>
        <input type="text" name="age_condition" >
        <br>
        <br>
        <label for="param4">Age_From:</label>
        <input type="text" name="age_range_from" >
        <br>
        <br>
        <label for="param5">Age_To:</label>
        <input type="text" name="age_range_to" >
        <br>
        <br>
        <button type="submit">Call MySQL Procedure</button>
        <br>
    </form>
    <br>
    <br>
    <table class="table table-striped table-hover center table-bordered">
        <thead class="table-dark">
          <tr>
            <th scope="col">Staff ID</th>
            <th scope="col">Staff Name</th>
            <th scope="col">Gender</th>
            <th scope="col">DOB</th>
            <th scope="col">Age</th>
            
          </tr>
        </thead>
        <tbody>
          {% if records %}
            {% for record in records %}
              <tr>
                <td>{{ record.STAFF_ID }}</td>
                <td>{{ record.STAFF_NAME }}</td>
                <td>{{ record.GENDER }}</td>
                <td>{{ record.DOB }}</td>
                <td>{{ record.AGE }}</td>
                </tr>
            {% endfor %}
        {% endif %}
                
    <div><a href="{% url 'home' %}" class="btn btn-secondary">Back</a></div>
</body>
</html>
{% endblock %}
